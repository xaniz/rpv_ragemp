<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<!-- <base href="/"> -->

	<title> RP</title>
	<meta name="description" content=" RP">

	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="css/normalize.css">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
	<link rel="stylesheet" href="css/range.css">
  <link rel="stylesheet" href="css/stylenorm.css">

</head>

<body class="create">

  <div class="create-char create-char-3">

		<div class="step">
			

			<div class="slider-container">
				<div class="slider-header">
					<span class="setting-name">Pocetna Odeca</span>
					<span class="slider-value" id="traje-display"></span>
				</div>
				<div class="slider">
					<div class="ui range" id="traje"></div>
				</div>
			</div>

			<div class="step-buttons">
				<div class="button button-dark" id="charcreation_back"><i class="fas fa-sign-out-alt" style="transform: rotate(180deg);"></i> Nazad</div>
				<div class="button button-yellow" id="charcreation_next">U igru</div>
			</div>

			
			
		</div>

	</div>

	<div class="camera">
		<span class="camera-title"></span>
		<div class="camera-buttons">
			<div class="button button-dark" id="charcreation_head">Zoom lice</div>
			<div class="button button-dark" id="charcreation_body">Zoom telo</div>
		</div>
		<span class="camera-title rotate"></span>
		<div class="ui range" id="range_rotation"></div>
	</div>

	<script src="../css/jquery.js"></script>
	<script src="css/range.js"></script>
	<script src="../css/semantic.min.js"></script>

	<script>
		$(document).ready(function () {

			$("#charcreation_back").click(function () {
				mp.trigger("ClientCharCreation3Back");
			});

			$("#charcreation_next").click(function () {
				mp.trigger("ClientCharCreation3Next");
			});

			$("#charcreation_head").click(function () {
				mp.trigger("cameraPointTo", 1);
			});

			$("#charcreation_body").click(function () {
				mp.trigger("cameraPointTo", 0);
			});

			$('#range_rotation').range({
				min: 0,
				max: 360,
				start: 100,
				step: 20,
				smooth: false,
				onChange: function (val, data) {
					OnRangeChange("range_rotation", val, null)
				}
			});
			$('#range_elevation').range({
				min: -2,
				max: 1,
				start: 0,
				step: 1,
				smooth: false,
				onChange: function (val, data) {
					OnRangeChange("range_elevation", val, null)
				}
			});
		});

		function OnRangeChange(id, val, data) {
			console.log(id, val);
			mp.trigger("ClientOnRangeChange", id, val);
		}

		function LoadClothing(arr_data) {
			var data = JSON.parse(arr_data);
			$('#traje').range({
				min: 0,
				max: 12,
				start: data.Top,
				smooth: false,
				onChange: function (val, data) {
					mp.trigger("ClientSetTraje", val);
					$('#traje-display').html(val)
				}
			});
			$('#top').range({
				min: 0,
				max: 10,
				start: data[0].Top,
				smooth: false,
				onChange: function (val, data) {
					mp.trigger("ClientSetTorso", val);
				}
			});
			$('#pants').range({
				min: 0,
				max: 10,
				start: data[0].Pants,
				smooth: false,
				onChange: function (val, data) {
					mp.trigger("ClientSetPants", val);
				}
			});
			$('#shoes').range({
				min: 0,
				max: 10,
				start: data[0].Shoes,
				smooth: false,
				onChange: function (val, data) {
					mp.trigger("ClientSetShoes", val);
				}
			});
		}
	</script>

</body>
</html>
